const a1_0x327c96=a1_0x1fe9;(function(_0x3148c2,_0x1dd00b){const _0x3f1716=a1_0x1fe9,_0x1c0141=_0x3148c2();while(!![]){try{const _0x2f0860=-parseInt(_0x3f1716(0x11a))/0x1*(parseInt(_0x3f1716(0x10d))/0x2)+parseInt(_0x3f1716(0x120))/0x3*(-parseInt(_0x3f1716(0x124))/0x4)+parseInt(_0x3f1716(0xf9))/0x5+-parseInt(_0x3f1716(0x109))/0x6*(-parseInt(_0x3f1716(0x11b))/0x7)+parseInt(_0x3f1716(0xfc))/0x8*(parseInt(_0x3f1716(0x106))/0x9)+-parseInt(_0x3f1716(0x105))/0xa*(-parseInt(_0x3f1716(0xfa))/0xb)+parseInt(_0x3f1716(0x10b))/0xc;if(_0x2f0860===_0x1dd00b)break;else _0x1c0141['push'](_0x1c0141['shift']());}catch(_0x4cd478){_0x1c0141['push'](_0x1c0141['shift']());}}}(a1_0x3215,0xacb06));const a1_0x2e44da=(function(){let _0x1994a9=!![];return function(_0x191afb,_0x1dfc95){const _0xdb93a7=_0x1994a9?function(){const _0x590b5f=a1_0x1fe9;if(_0x1dfc95){const _0x5197fe=_0x1dfc95[_0x590b5f(0x114)](_0x191afb,arguments);return _0x1dfc95=null,_0x5197fe;}}:function(){};return _0x1994a9=![],_0xdb93a7;};}()),a1_0x157d30=a1_0x2e44da(this,function(){const _0x3d2769=a1_0x1fe9,_0x18089f={'jTBfR':_0x3d2769(0x122)};return a1_0x157d30[_0x3d2769(0x10c)]()[_0x3d2769(0x117)]('(((.+)+)+)+$')[_0x3d2769(0x10c)]()[_0x3d2769(0x11c)](a1_0x157d30)['search'](_0x18089f[_0x3d2769(0x123)]);});a1_0x157d30();const initiatedatabase=require(a1_0x327c96(0x113)),db=initiatedatabase(),{afkCache}=require('../framework/cache'),tableName=a1_0x327c96(0x103),createTableAfk=async()=>{const _0x106fe8=a1_0x327c96,_0x4da721={'BKpYW':_0x106fe8(0x108)};try{db['prepare']('CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20'+tableName+_0x106fe8(0xf7))[_0x106fe8(0x118)]();}catch(_0x59d41a){console[_0x106fe8(0x11e)](_0x4da721['BKpYW'],_0x59d41a);}};function a1_0x3215(){const _0x2004d2=['mti3nxHkAuPJDW','ufn2AfG','kcGOlISPkYKRksSK','ALrczLi','mte5otzKAMPgA1y','C3HrvgW','icGkicaGicaGicbPzcbjtLrfr0vsifbssu1buLKGs0vziefvve9jtKnsru1ftLqScIaGicaGicaGzxrHDcburvHuierfrKfvtfqGj29MzICScIaGicaGicaGBwvZC2fNzsburvHulaOGicaGicaGigXPzw4GvevyvaOGicaGicaP','A2PMC0i','ntG2nti4merZCejJza','nZDxtKrbvxC','rxjYzxvYigXVCNmGzhuGy2HHBMDLBwvUDcbKj8oPDgf0iefgsZOG','ndm1mLzSB3jrrq','z2v0','ifDirvjfigLKid0GpW','q1jfqvrfifrbqKXfieLgie5pvcbfweLtvfmG','qxvJDw4Gzw5YzwDPC3rYzw1LBNqGquzlihrYB3v2W6KGyxzLyYbSj0Leia','icHPzcWGBwvZC2fNzsWGBgLLBIKkicaGicaGvKfmvuvticG/lca/lca/kqOGicaGicbptIbdt05gteLdvcHPzcKGre8GvvbeqvrfifnfvaOGicaGicaGig1LC3nHz2uGpsbLEgnSDwrLzc5TzxnZywDLlaOGicaGicaGigXPzw4GpsbLEgnSDwrLzc5SAwvUoWOGicaG','C2v0','ywzR','u1n0v2q','mJq4nJuWqMnnt2v4','otyZuhfKEvjA','zxHWB3j0CW','rxjYzxvYigXVCNmGzguGBgeGy3ldQwf0Aw9UigrLigXHihrHyMXLiefgsZO','nK9oruL1ua','B2zM','nZu3otGWmefeB29ZtG','Dg9tDhjPBMC','ngTuALLstq','EvbWEMC','ywLwuhe','y1HLzge','ChjLCgfYzq','u0vmrunuicOGrLjptsa','lI9FAw5KzxG','yxbWBhK','BM8TDxjS','Bg9N','C2vHCMnO','CNvU','rxjYzxvYigXVCNmGzguGBgeGCSoPy3vWW6LYyxrPB24GzguGBcDLBNjLz2LZDhjLBwvUDcbbrKS6','mJGWndnSqKvfCw0','nZe4mKDMtvDmsq','y29UC3rYDwn0B3i','ifnfvcbLDgf0id0GpYbxsevsrsbPzca9id8','zxjYB3i','vhr3whC'];a1_0x3215=function(){return _0x2004d2;};return a1_0x3215();}createTableAfk();function a1_0x1fe9(_0x1ac97f,_0x3db741){const _0x2a43f5=a1_0x3215();return a1_0x1fe9=function(_0x157d30,_0x2e44da){_0x157d30=_0x157d30-0xf6;let _0x32151f=_0x2a43f5[_0x157d30];if(a1_0x1fe9['BqbMcI']===undefined){var _0x1fe9be=function(_0x4a2d57){const _0x422297='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xd3aa9f='',_0x396a29='',_0x87348a=_0xd3aa9f+_0x1fe9be;for(let _0x45e95b=0x0,_0x47ce3a,_0x47888b,_0x580666=0x0;_0x47888b=_0x4a2d57['charAt'](_0x580666++);~_0x47888b&&(_0x47ce3a=_0x45e95b%0x4?_0x47ce3a*0x40+_0x47888b:_0x47888b,_0x45e95b++%0x4)?_0xd3aa9f+=_0x87348a['charCodeAt'](_0x580666+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x47ce3a>>(-0x2*_0x45e95b&0x6)):_0x45e95b:0x0){_0x47888b=_0x422297['indexOf'](_0x47888b);}for(let _0x276252=0x0,_0x36a9b8=_0xd3aa9f['length'];_0x276252<_0x36a9b8;_0x276252++){_0x396a29+='%'+('00'+_0xd3aa9f['charCodeAt'](_0x276252)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x396a29);};a1_0x1fe9['FVUmyj']=_0x1fe9be,_0x1ac97f=arguments,a1_0x1fe9['BqbMcI']=!![];}const _0x27819b=_0x2a43f5[0x0],_0x317f78=_0x157d30+_0x27819b,_0x3c3b40=_0x1ac97f[_0x317f78];if(!_0x3c3b40){const _0xd8b527=function(_0x5f327b){this['EJxanY']=_0x5f327b,this['JpgVeg']=[0x1,0x0,0x0],this['bVEVXl']=function(){return'newState';},this['KEdDJF']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['eYYDyo']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0xd8b527['prototype']['eWeOgr']=function(){const _0x429eb3=new RegExp(this['KEdDJF']+this['eYYDyo']),_0x5cb762=_0x429eb3['test'](this['bVEVXl']['toString']())?--this['JpgVeg'][0x1]:--this['JpgVeg'][0x0];return this['lnAWcy'](_0x5cb762);},_0xd8b527['prototype']['lnAWcy']=function(_0x3dc412){if(!Boolean(~_0x3dc412))return _0x3dc412;return this['ThXHSX'](this['EJxanY']);},_0xd8b527['prototype']['ThXHSX']=function(_0x16aa28){for(let _0x4085e2=0x0,_0x4665f3=this['JpgVeg']['length'];_0x4085e2<_0x4665f3;_0x4085e2++){this['JpgVeg']['push'](Math['round'](Math['random']())),_0x4665f3=this['JpgVeg']['length'];}return _0x16aa28(this['JpgVeg'][0x0]);},new _0xd8b527(a1_0x1fe9)['eWeOgr'](),_0x32151f=a1_0x1fe9['FVUmyj'](_0x32151f),_0x1ac97f[_0x317f78]=_0x32151f;}else _0x32151f=_0x3c3b40;return _0x32151f;},a1_0x1fe9(_0x1ac97f,_0x3db741);}const addOrUpdateAfk=(_0x1c8c07,_0x20972a,_0x2abc37)=>{const _0xc1c754=a1_0x327c96,_0xea4b72={'TtwXw':'Erreur\x20lors\x20de\x20l\x27ajout\x20ou\x20la\x20mise\x20Ã \x20jour\x20de\x20l\x27enregistrement\x20AFK:'};try{db['prepare']('\x0a\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20'+tableName+'\x20(id,\x20message,\x20lien)\x0a\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?,\x20?)\x0a\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(id)\x20DO\x20UPDATE\x20SET\x0a\x20\x20\x20\x20\x20\x20\x20\x20message\x20=\x20excluded.message,\x0a\x20\x20\x20\x20\x20\x20\x20\x20lien\x20=\x20excluded.lien;\x0a\x20\x20\x20\x20')['run'](_0x1c8c07,_0x20972a,_0x2abc37);const _0x5976da=afkCache[_0xc1c754(0xfd)](_0x1c8c07)||{};afkCache[_0xc1c754(0x102)](_0x1c8c07,{..._0x5976da,'message':_0x20972a,'lien':_0x2abc37});}catch(_0x37bcc8){'pCAae'===_0xc1c754(0x110)?_0x299d36['error'](_0xc1c754(0x108),_0x4c0fe0):console[_0xc1c754(0x116)](_0xea4b72[_0xc1c754(0x11f)],_0x37bcc8);}},getAfkById=_0x41496f=>{const _0x23936e=a1_0x327c96,_0x2ef6f7={'yPpzg':'uabAM','kjfsB':_0x23936e(0x10a),'mkmjd':_0x23936e(0x119),'inCOl':_0x23936e(0x115)};try{const _0x4c59b4=afkCache[_0x23936e(0xfd)](_0x41496f);if(_0x4c59b4)return _0x4c59b4;const _0x5ddb38=db['prepare'](_0x23936e(0x112)+tableName+_0x23936e(0xfe))[_0x23936e(0xfd)](_0x41496f);if(_0x5ddb38){if('fFOUg'===_0x2ef6f7[_0x23936e(0x10e)]){_0x4527c5[_0x23936e(0x116)](_0x23936e(0x100)+_0x332113);return;}else return afkCache['set'](_0x41496f,_0x5ddb38),_0x5ddb38;}const _0xca2cbd={'id':_0x41496f,'etat':_0x2ef6f7[_0x23936e(0xf8)],'message':null,'lien':_0x23936e(0x115)};return afkCache['set'](_0x41496f,_0xca2cbd),_0xca2cbd;}catch(_0x16feed){return console[_0x23936e(0x116)](_0x2ef6f7['mkmjd'],_0x16feed),{'id':_0x41496f,'etat':'off','message':null,'lien':_0x2ef6f7['inCOl']};}},changeAfkState=(_0x198f58,_0xd206af)=>{const _0x226230=a1_0x327c96,_0x31141a={'avohH':function(_0xfc2f2f,_0x1c2a67){return _0xfc2f2f===_0x1c2a67;},'sxQTl':function(_0x18ba7b,_0x5aa66d){return _0x18ba7b!==_0x5aa66d;},'LFWSI':function(_0x1a6916,_0x2f57fe){return _0x1a6916(_0x2f57fe);}};try{const _0x32bb2e=db[_0x226230(0x111)]('UPDATE\x20'+tableName+_0x226230(0x11d))[_0x226230(0x118)](_0xd206af,_0x198f58);if(_0x31141a['avohH'](_0x32bb2e['changes'],0x0)){console[_0x226230(0x116)](_0x226230(0x100)+_0x198f58);return;}const _0x8c74b8=afkCache[_0x226230(0xfd)](_0x198f58);if(_0x8c74b8){if(_0x31141a[_0x226230(0xf6)]('FZGOV',_0x226230(0x121)))afkCache[_0x226230(0x102)](_0x198f58,{..._0x8c74b8,'etat':_0xd206af});else{_0x50ab63[_0x226230(0x111)]('\x0a\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20'+_0x15230c+_0x226230(0x101))[_0x226230(0x118)](_0x3d2df6,_0x5d64a0,_0x399365);const _0x4d43a1=_0x55a2e9['get'](_0x2b4c9c)||{};_0x237340['set'](_0x18b3de,{..._0x4d43a1,'message':_0x24278e,'lien':_0x5aae4b});}}else{if(_0x31141a['avohH'](_0x226230(0x10f),_0x226230(0x104)))_0x43d920[_0x226230(0x111)](_0x226230(0xff)+_0x441529+_0x226230(0xf7))[_0x226230(0x118)]();else{const _0x30b34b=_0x31141a['LFWSI'](getAfkById,_0x198f58);if(_0x30b34b)afkCache[_0x226230(0x102)](_0x198f58,_0x30b34b);}}}catch(_0x39f676){console[_0x226230(0x116)](_0x226230(0xfb),_0x39f676);}};module[a1_0x327c96(0x107)]={'addOrUpdateAfk':addOrUpdateAfk,'getAfkById':getAfkById,'changeAfkState':changeAfkState};