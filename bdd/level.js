const a11_0x1a5c18=a11_0x3202;(function(_0x479186,_0x3ec6a9){const _0x24c0ce=a11_0x3202,_0x27b7f2=_0x479186();while(!![]){try{const _0x3a6079=parseInt(_0x24c0ce(0x173))/0x1+parseInt(_0x24c0ce(0x165))/0x2+-parseInt(_0x24c0ce(0x161))/0x3*(parseInt(_0x24c0ce(0x168))/0x4)+parseInt(_0x24c0ce(0x169))/0x5+-parseInt(_0x24c0ce(0x167))/0x6+parseInt(_0x24c0ce(0x15f))/0x7+-parseInt(_0x24c0ce(0x160))/0x8*(parseInt(_0x24c0ce(0x162))/0x9);if(_0x3a6079===_0x3ec6a9)break;else _0x27b7f2['push'](_0x27b7f2['shift']());}catch(_0x10bffc){_0x27b7f2['push'](_0x27b7f2['shift']());}}}(a11_0xfba1,0x9ee36));function a11_0x3202(_0x2a360f,_0x23cf3f){const _0x4c9e04=a11_0xfba1();return a11_0x3202=function(_0x32dbb5,_0x48bf75){_0x32dbb5=_0x32dbb5-0x15e;let _0xfba106=_0x4c9e04[_0x32dbb5];if(a11_0x3202['ekrTuC']===undefined){var _0x320225=function(_0x4c4ee6){const _0x242f8b='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4107a0='',_0x3d11f7='',_0x52dd4e=_0x4107a0+_0x320225;for(let _0x1ee154=0x0,_0x556aef,_0x32c3d7,_0x318205=0x0;_0x32c3d7=_0x4c4ee6['charAt'](_0x318205++);~_0x32c3d7&&(_0x556aef=_0x1ee154%0x4?_0x556aef*0x40+_0x32c3d7:_0x32c3d7,_0x1ee154++%0x4)?_0x4107a0+=_0x52dd4e['charCodeAt'](_0x318205+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x556aef>>(-0x2*_0x1ee154&0x6)):_0x1ee154:0x0){_0x32c3d7=_0x242f8b['indexOf'](_0x32c3d7);}for(let _0x4c120a=0x0,_0x12c80f=_0x4107a0['length'];_0x4c120a<_0x12c80f;_0x4c120a++){_0x3d11f7+='%'+('00'+_0x4107a0['charCodeAt'](_0x4c120a)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3d11f7);};a11_0x3202['OcJeJy']=_0x320225,_0x2a360f=arguments,a11_0x3202['ekrTuC']=!![];}const _0x2b0b77=_0x4c9e04[0x0],_0x3516dd=_0x32dbb5+_0x2b0b77,_0x5e33d2=_0x2a360f[_0x3516dd];if(!_0x5e33d2){const _0x5897cc=function(_0x2927b9){this['aGgClD']=_0x2927b9,this['CiepUE']=[0x1,0x0,0x0],this['yqtiVb']=function(){return'newState';},this['uMuOWt']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['axsoZd']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x5897cc['prototype']['nVYZMI']=function(){const _0x70504e=new RegExp(this['uMuOWt']+this['axsoZd']),_0x313302=_0x70504e['test'](this['yqtiVb']['toString']())?--this['CiepUE'][0x1]:--this['CiepUE'][0x0];return this['DLPdsj'](_0x313302);},_0x5897cc['prototype']['DLPdsj']=function(_0x19ccc2){if(!Boolean(~_0x19ccc2))return _0x19ccc2;return this['fKGuzl'](this['aGgClD']);},_0x5897cc['prototype']['fKGuzl']=function(_0x1bddcd){for(let _0x3e4376=0x0,_0x27a159=this['CiepUE']['length'];_0x3e4376<_0x27a159;_0x3e4376++){this['CiepUE']['push'](Math['round'](Math['random']())),_0x27a159=this['CiepUE']['length'];}return _0x1bddcd(this['CiepUE'][0x0]);},new _0x5897cc(a11_0x3202)['nVYZMI'](),_0xfba106=a11_0x3202['OcJeJy'](_0xfba106),_0x2a360f[_0x3516dd]=_0xfba106;}else _0xfba106=_0x5e33d2;return _0xfba106;},a11_0x3202(_0x2a360f,_0x23cf3f);}const a11_0x48bf75=(function(){let _0x2871ef=!![];return function(_0x24f1cd,_0x1eb0b3){const _0x5e0cd7=_0x2871ef?function(){const _0x266262=a11_0x3202;if(_0x1eb0b3){const _0x3f2641=_0x1eb0b3[_0x266262(0x16f)](_0x24f1cd,arguments);return _0x1eb0b3=null,_0x3f2641;}}:function(){};return _0x2871ef=![],_0x5e0cd7;};}()),a11_0x32dbb5=a11_0x48bf75(this,function(){const _0x55dd61=a11_0x3202,_0x42d102={'yVHZz':_0x55dd61(0x16e)};return a11_0x32dbb5[_0x55dd61(0x170)]()['search']('(((.+)+)+)+$')[_0x55dd61(0x170)]()[_0x55dd61(0x163)](a11_0x32dbb5)[_0x55dd61(0x16c)](_0x42d102['yVHZz']);});a11_0x32dbb5();const openConnection=require('./_index'),db=openConnection(),createUsersRankTable=()=>{const _0x50a201=a11_0x3202;try{db['prepare'](_0x50a201(0x175))[_0x50a201(0x171)]();}catch(_0x39fa7f){console[_0x50a201(0x16d)]('Erreur\x20lors\x20de\x20la\x20création\x20de\x20la\x20table\x20\x27users_rank\x27:',_0x39fa7f[_0x50a201(0x164)]);throw _0x39fa7f;}};createUsersRankTable();const ajouterOuMettreAJourUserData=(_0x2f7066,_0x492db0=0xa,_0x3528a2=0x1)=>{const _0x5e1d7b=a11_0x3202;if(!_0x2f7066)return;try{db['prepare'](_0x5e1d7b(0x166))[_0x5e1d7b(0x171)](_0x2f7066,_0x492db0,_0x3528a2);}catch(_0x3eee5c){throw _0x3eee5c;}},getMessagesAndXPByJID=_0x323d31=>{const _0x5dbcf7=a11_0x3202;if(!_0x323d31)return{'messages':0x0,'xp':0x0};try{const _0x10b576=db[_0x5dbcf7(0x16b)](_0x5dbcf7(0x16a))[_0x5dbcf7(0x15e)](_0x323d31);return _0x10b576||{'messages':0x0,'xp':0x0};}catch(_0x4de44b){console[_0x5dbcf7(0x16d)]('Erreur\x20lors\x20de\x20la\x20récupération\x20des\x20données\x20utilisateur:',_0x4de44b['message']);throw _0x4de44b;}},getBottom10Users=()=>{const _0x4b3a59=a11_0x3202;try{const _0x139ad7=db[_0x4b3a59(0x16b)]('\x0a\x20\x20\x20\x20\x20\x20SELECT\x20jid,\x20xp,\x20messages\x0a\x20\x20\x20\x20\x20\x20FROM\x20users_rank\x0a\x20\x20\x20\x20\x20\x20ORDER\x20BY\x20xp\x20DESC\x0a\x20\x20\x20\x20\x20\x20LIMIT\x2010;\x0a\x20\x20\x20\x20')[_0x4b3a59(0x172)]();return _0x139ad7;}catch(_0xad0306){console['error']('Erreur\x20lors\x20de\x20la\x20récupération\x20du\x20top\x2010:',_0xad0306['message']);throw _0xad0306;}};function a11_0xfba1(){const _0x503fad=['ywXS','ntK5mJyZDgvvBxHl','zxHWB3j0CW','cIaGicaGiensrufursbuqujmrsbjrIbot1qGrvHju1rtihvZzxjZx3jHBMSGkaOGicaGicaGigLKieLovevhrviGufjjtufswsblrvKGqvvut0Loq1jftuvovcWkicaGicaGicbQAwqGvevyvcbvtKLrvuuScIaGicaGicaGEhaGsu5uruDfuIberuzbvuXuidaScIaGicaGicaGBwvZC2fNzxmGsu5uruDfuIberuzbvuXuidakicaGicaGktSkicaGia','z2v0','odG1mtK5v3vRBuLh','mJC2nZiWohn2rxz2za','ndG0odK5DgLRt3b2','oxjKAgTbCG','y29UC3rYDwn0B3i','BwvZC2fNzq','oteWmdm2runktfjZ','cIaGicaGieLou0vsvcbjtLrpihvZzxjZx3jHBMSGkgPPzcWGEhaSig1LC3nHz2vZkqOGicaGicbwquXvrvmGkd8Sid8Sid8PcIaGicaGie9oienptKzmsunukgPPzcKGre8GvvbeqvrfifnfvaOGicaGicaGihHWid0GEhaGkYbLEgnSDwrLzc54CcWkicaGicaGicbTzxnZywDLCYa9ig1LC3nHz2vZicSGzxHJBhvKzwqUBwvZC2fNzxm7cIaGica','mJu3otuWoeTeDeHJqG','mJreq3LUwMW','nJa3odqYnuzpA1bwvW','cIaGicaGifnftevdvcbTzxnZywDLCYWGEhaGrLjptsb1C2vYC19Yyw5RifDirvjfigPPzca9id87cIaGica','ChjLCgfYzq','C2vHCMnO','zxjYB3i','kcGOlISPkYKRksSK','yxbWBhK','Dg9tDhjPBMC','CNvU'];a11_0xfba1=function(){return _0x503fad;};return a11_0xfba1();}module[a11_0x1a5c18(0x174)]={'ajouterOuMettreAJourUserData':ajouterOuMettreAJourUserData,'getMessagesAndXPByJID':getMessagesAndXPByJID,'getBottom10Users':getBottom10Users};