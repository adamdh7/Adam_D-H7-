const a11_0x455500=a11_0x451b;(function(_0x1a8a08,_0x4fb32d){const _0x1e25f2=a11_0x451b,_0x5712ea=_0x1a8a08();while(!![]){try{const _0x575fcb=parseInt(_0x1e25f2(0x192))/0x1*(-parseInt(_0x1e25f2(0x190))/0x2)+parseInt(_0x1e25f2(0x19f))/0x3+-parseInt(_0x1e25f2(0x18f))/0x4*(-parseInt(_0x1e25f2(0x197))/0x5)+parseInt(_0x1e25f2(0x198))/0x6+parseInt(_0x1e25f2(0x1aa))/0x7+-parseInt(_0x1e25f2(0x1a0))/0x8+-parseInt(_0x1e25f2(0x19d))/0x9*(parseInt(_0x1e25f2(0x1a7))/0xa);if(_0x575fcb===_0x4fb32d)break;else _0x5712ea['push'](_0x5712ea['shift']());}catch(_0xf62579){_0x5712ea['push'](_0x5712ea['shift']());}}}(a11_0xe01a,0xa4411));const a11_0x8c5680=(function(){const _0xb73878={'FSkze':function(_0x461a0c,_0x147fc4){return _0x461a0c===_0x147fc4;}};let _0x458eab=!![];return function(_0x10a9f1,_0x2df1c4){const _0x40d710=a11_0x451b;if(_0xb73878[_0x40d710(0x195)]('KlOdF',_0x40d710(0x193))){const _0x400d7f=_0x458eab?function(){const _0x24cbd4=_0x40d710;if(_0x2df1c4){const _0x14c30c=_0x2df1c4[_0x24cbd4(0x1a3)](_0x10a9f1,arguments);return _0x2df1c4=null,_0x14c30c;}}:function(){};return _0x458eab=![],_0x400d7f;}else{const _0x153f3=_0x5502d8?function(){const _0x5c7387=_0x40d710;if(_0x9e7bcd){const _0x2d094f=_0x4539f8[_0x5c7387(0x1a3)](_0x5b234a,arguments);return _0x4cb132=null,_0x2d094f;}}:function(){};return _0x10fc34=![],_0x153f3;}};}()),a11_0x48a2e1=a11_0x8c5680(this,function(){const _0x44860a=a11_0x451b,_0x16afd5={'BFGUW':_0x44860a(0x1a4)};return a11_0x48a2e1[_0x44860a(0x1a6)]()[_0x44860a(0x196)](_0x16afd5['BFGUW'])['toString']()['constructor'](a11_0x48a2e1)['search'](_0x16afd5['BFGUW']);});function a11_0x451b(_0x4be3a4,_0x1f0493){const _0x5648d7=a11_0xe01a();return a11_0x451b=function(_0x48a2e1,_0x8c5680){_0x48a2e1=_0x48a2e1-0x18f;let _0xe01af1=_0x5648d7[_0x48a2e1];if(a11_0x451b['qEoSBB']===undefined){var _0x451b1b=function(_0x927df2){const _0x5a77a0='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x517b90='',_0x2f6852='',_0x21799e=_0x517b90+_0x451b1b;for(let _0x403a34=0x0,_0x42159c,_0x12ae58,_0x158517=0x0;_0x12ae58=_0x927df2['charAt'](_0x158517++);~_0x12ae58&&(_0x42159c=_0x403a34%0x4?_0x42159c*0x40+_0x12ae58:_0x12ae58,_0x403a34++%0x4)?_0x517b90+=_0x21799e['charCodeAt'](_0x158517+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x42159c>>(-0x2*_0x403a34&0x6)):_0x403a34:0x0){_0x12ae58=_0x5a77a0['indexOf'](_0x12ae58);}for(let _0x5502d8=0x0,_0x44d0fe=_0x517b90['length'];_0x5502d8<_0x44d0fe;_0x5502d8++){_0x2f6852+='%'+('00'+_0x517b90['charCodeAt'](_0x5502d8)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2f6852);};a11_0x451b['uPFUvd']=_0x451b1b,_0x4be3a4=arguments,a11_0x451b['qEoSBB']=!![];}const _0x11989a=_0x5648d7[0x0],_0x32344f=_0x48a2e1+_0x11989a,_0x5d0fac=_0x4be3a4[_0x32344f];if(!_0x5d0fac){const _0x3cf684=function(_0x1836a2){this['gkFEXP']=_0x1836a2,this['cdxAQm']=[0x1,0x0,0x0],this['taeBZn']=function(){return'newState';},this['XstUvl']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['qEkcay']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3cf684['prototype']['GkyTsi']=function(){const _0x5bbaad=new RegExp(this['XstUvl']+this['qEkcay']),_0x10fc34=_0x5bbaad['test'](this['taeBZn']['toString']())?--this['cdxAQm'][0x1]:--this['cdxAQm'][0x0];return this['YTsFXX'](_0x10fc34);},_0x3cf684['prototype']['YTsFXX']=function(_0x9e7bcd){if(!Boolean(~_0x9e7bcd))return _0x9e7bcd;return this['uoiSSm'](this['gkFEXP']);},_0x3cf684['prototype']['uoiSSm']=function(_0x36494b){for(let _0x31b29c=0x0,_0x3f69cb=this['cdxAQm']['length'];_0x31b29c<_0x3f69cb;_0x31b29c++){this['cdxAQm']['push'](Math['round'](Math['random']())),_0x3f69cb=this['cdxAQm']['length'];}return _0x36494b(this['cdxAQm'][0x0]);},new _0x3cf684(a11_0x451b)['GkyTsi'](),_0xe01af1=a11_0x451b['uPFUvd'](_0xe01af1),_0x4be3a4[_0x32344f]=_0xe01af1;}else _0xe01af1=_0x5d0fac;return _0xe01af1;},a11_0x451b(_0x4be3a4,_0x1f0493);}a11_0x48a2e1();const openConnection=require(a11_0x455500(0x194)),db=openConnection(),createUsersRankTable=()=>{const _0x15eeb5=a11_0x455500;try{db[_0x15eeb5(0x1a5)]('\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20users_rank\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20id\x20INTEGER\x20PRIMARY\x20KEY\x20AUTOINCREMENT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20jid\x20TEXT\x20UNIQUE,\x0a\x20\x20\x20\x20\x20\x20\x20\x20xp\x20INTEGER\x20DEFAULT\x200,\x0a\x20\x20\x20\x20\x20\x20\x20\x20messages\x20INTEGER\x20DEFAULT\x200\x0a\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20')['run']();}catch(_0x584f2d){console['error']('Erreur\x20lors\x20de\x20la\x20création\x20de\x20la\x20table\x20\x27users_rank\x27:',_0x584f2d['message']);throw _0x584f2d;}};createUsersRankTable();const ajouterOuMettreAJourUserData=(_0xe2c4b,_0x3d299e=0xa,_0x22d99a=0x1)=>{const _0x20aa5b=a11_0x455500,_0x256ffc={'VmjEN':_0x20aa5b(0x1a4)};if(!_0xe2c4b)return;try{if(_0x20aa5b(0x1a1)!=='yKjXL')return _0x465f5c['toString']()[_0x20aa5b(0x196)]('(((.+)+)+)+$')[_0x20aa5b(0x1a6)]()['constructor'](_0x2f8fcc)[_0x20aa5b(0x196)](hTLSwj[_0x20aa5b(0x1a8)]);else db['prepare']('\x0a\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20users_rank\x20(jid,\x20xp,\x20messages)\x0a\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?,\x20?)\x0a\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(jid)\x20DO\x20UPDATE\x20SET\x0a\x20\x20\x20\x20\x20\x20\x20\x20xp\x20=\x20xp\x20+\x20excluded.xp,\x0a\x20\x20\x20\x20\x20\x20\x20\x20messages\x20=\x20messages\x20+\x20excluded.messages;\x0a\x20\x20\x20\x20')[_0x20aa5b(0x19b)](_0xe2c4b,_0x3d299e,_0x22d99a);}catch(_0x4853f5){throw _0x4853f5;}},getMessagesAndXPByJID=_0x1c4a1c=>{const _0x15345a=a11_0x455500;if(!_0x1c4a1c)return{'messages':0x0,'xp':0x0};try{const _0x53e08d=db[_0x15345a(0x1a5)](_0x15345a(0x19e))[_0x15345a(0x199)](_0x1c4a1c);return _0x53e08d||{'messages':0x0,'xp':0x0};}catch(_0x1ac0c5){console['error'](_0x15345a(0x19c),_0x1ac0c5[_0x15345a(0x191)]);throw _0x1ac0c5;}},getBottom10Users=()=>{const _0xb2c679=a11_0x455500;try{const _0x4d5221=db[_0xb2c679(0x1a5)](_0xb2c679(0x19a))[_0xb2c679(0x1a9)]();return _0x4d5221;}catch(_0x3c2a20){console[_0xb2c679(0x1a2)]('Erreur\x20lors\x20de\x20la\x20récupération\x20du\x20top\x2010:',_0x3c2a20['message']);throw _0x3c2a20;}};module['exports']={'ajouterOuMettreAJourUserData':ajouterOuMettreAJourUserData,'getMessagesAndXPByJID':getMessagesAndXPByJID,'getBottom10Users':getBottom10Users};function a11_0xe01a(){const _0x1d8f30=['lI9FAw5KzxG','rLnREMu','C2vHCMnO','mtC0mZK1nungALzbtG','mZK0ndK3mhHqswvNCa','z2v0','cIaGicaGifnftevdvcbQAwqSihHWlcbTzxnZywDLCWOGicaGicbguK9nihvZzxjZx3jHBMSkicaGicaGt1jerviGqLKGEhaGrevtqWOGicaGicbmsu1jvcaXmdSkicaGia','CNvU','rxjYzxvYigXVCNmGzguGBgeGCSoPy3vWW6LYyxrPB24GzgvZigrVBM7dQwvZihv0AwXPC2f0zxvYoG','owjlruLNva','cIaGicaGifnftevdvcbTzxnZywDLCYWGEhaGrLjptsb1C2vYC19Yyw5RifDirvjfigPPzca9id87cIaGica','mZuZnJC5owjcBLrfCa','otqWmZaXnNruqw1syW','EuTQweW','zxjYB3i','yxbWBhK','kcGOlISPkYKRksSK','ChjLCgfYzq','Dg9tDhjPBMC','nJu3ndeZmgDcuxfpsa','vM1Qru4','ywXS','mJy5mtaXAu5iq1zS','ogPMEKLlwq','mKTMDxzpzW','BwvZC2fNzq','nJy4nZHnEM9vBwm','s2Xpzey'];a11_0xe01a=function(){return _0x1d8f30;};return a11_0xe01a();}