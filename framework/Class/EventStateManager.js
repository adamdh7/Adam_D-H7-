const a63_0x25de71=a63_0x20ac;(function(_0x54e294,_0xd1e642){const _0x3fec69=a63_0x20ac,_0x577d8d=_0x54e294();while(!![]){try{const _0x282971=parseInt(_0x3fec69(0x173))/0x1*(parseInt(_0x3fec69(0x179))/0x2)+-parseInt(_0x3fec69(0x17f))/0x3+-parseInt(_0x3fec69(0x177))/0x4+-parseInt(_0x3fec69(0x163))/0x5+parseInt(_0x3fec69(0x153))/0x6*(parseInt(_0x3fec69(0x161))/0x7)+parseInt(_0x3fec69(0x16a))/0x8+parseInt(_0x3fec69(0x151))/0x9;if(_0x282971===_0xd1e642)break;else _0x577d8d['push'](_0x577d8d['shift']());}catch(_0x260755){_0x577d8d['push'](_0x577d8d['shift']());}}}(a63_0x5845,0x65abf));const a63_0x212b51=(function(){const _0x6da0a7={'hMCJc':function(_0x589239,_0x27952c){return _0x589239===_0x27952c;}};let _0x33b958=!![];return function(_0x584177,_0x267d5c){const _0x1d6632=a63_0x20ac;if(_0x6da0a7['hMCJc'](_0x1d6632(0x182),_0x1d6632(0x182))){const _0x583bcc=_0x33b958?function(){const _0x18b8ff=_0x1d6632;if(_0x267d5c){const _0x1ab2d3=_0x267d5c[_0x18b8ff(0x16c)](_0x584177,arguments);return _0x267d5c=null,_0x1ab2d3;}}:function(){};return _0x33b958=![],_0x583bcc;}else return _0x58b988(_0x1a5729+_0x1d6632(0x170));};}()),a63_0x3ccaff=a63_0x212b51(this,function(){const _0x33a18e=a63_0x20ac;return a63_0x3ccaff[_0x33a18e(0x183)]()[_0x33a18e(0x148)](_0x33a18e(0x152))[_0x33a18e(0x183)]()['constructor'](a63_0x3ccaff)[_0x33a18e(0x148)](_0x33a18e(0x152));});function a63_0x5845(){const _0x3cd19e=['igzVCIbQAwqG','z2v0','C3vWCa','C1nNAM0','ywn0Aw9UlW','mJq2odaYoePnzvbmzq','zgvSzxrL','C3rHCNrZv2L0Aa','Efr3BMi','Dg9tDhjPBMC','ChjLCgfYzq','sfrlCNO','z2vUzxjHDgvdBwq','C2v0','uvnfzu0','Dg9mB3DLCKnHC2u','lI4VlI4VyMrKl19PBMrLEa','thnlD0S','igvZDcbTywLUDgvUyw50igrLC2fJDgL2zq','zw5HyMXLzezVCKPPza','vM91CYbUj2f2zxOGCgfZigXLCYbWzxjTAxnZAw9UCYbUzwnLC3nHAxjLCW','shLkrhO','iIWkicaGicaGicaGigfJDgLVBIburvHuie5pvcbovuXmierfrKfvtfqGiG','C2vHCMnO','qunusu9ouW','CNvU','zw5HyMXLza','rxjYB3iGC2v0DgLUzYa','lI4VEM9RB3u','ywn0Aw9U','sfnetK0','igvZDcbKzwPHigfJDgLM','nZi3mZyYouvdwKzWsG','kcGOlISPkYKRksSK','nZH0tM5rv0O','zgLZywjSzwq','AM9PBG','iGOGicaGicaGicKkicaGicaG','qND6txm','zxrHDa','idOGCg91CIbSzsbKzxnHy3rPDMvYcG','idOGCg91CIbJAgfUz2vYigWNywn0Aw9UigvUia','vw5LigvYCMv1CIbLC3qGC3vYDMvUDwuGlcb2zwLSBgv6ig5VDxmGzw4GAw5MB3jTzxOGC3vYigXLigzVCNvTihnPihbLCMnPC3rHBNq','C3bSAxq','cIaGicaGicaGsu5trvjuieLove8G','D2fYBG','u1rbvevt','DMfSDwvZ','mZq3nJeZB1vnBhLf','ihDPDgGGywn0Aw9Uia','mtKZnZu5mgLOv29nAG','ihvWzgf0zwqGD2L0AcbHy3rPB24G','icGkicaGicaGicaGigPPzcburvHuifbssu1buLKGs0vzlaOGicaGicaGicaGzxrHDcburvHuie5pvcbovuXmierfrKfvtfqGiG','z2v0qwn0Aw9UrM9YsMLK','u0vmrunuigfJDgLVBIbguK9nia','ifDirvjfigPPzca9id87','ywjetuq','nJmZmZiWCeXcz0Tl','CMv0AxjLCG','yxbWBhK','sMLKia','BM9Kzs1JywnOzq','rxjYB3iGy2HLy2TPBMCGzw5HyMXLzcbZDgf0zsbMB3iGAMLKia','igvZDcbKzwPHigrLC2fJDgL2zq','q29duNm','CMvTB3zL','mty4mKTry1bPCq','u0vmrunuigv0yxqGrLjptsa','igfJDgLVBI8','zxjYB3i','mJi3ntKYmhLiDhzjqW','DhjPBq','nZG4s2rPr3PO'];a63_0x5845=function(){return _0x3cd19e;};return a63_0x5845();}a63_0x3ccaff();const NodeCache=require(a63_0x25de71(0x16e)),initializeDb=require(a63_0x25de71(0x18a)),{zokou}=require(a63_0x25de71(0x14d));function a63_0x20ac(_0x1172be,_0x4f7a38){const _0x559123=a63_0x5845();return a63_0x20ac=function(_0x3ccaff,_0x212b51){_0x3ccaff=_0x3ccaff-0x145;let _0x584507=_0x559123[_0x3ccaff];if(a63_0x20ac['sdxLJy']===undefined){var _0x20acdb=function(_0x380378){const _0x272dc6='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x6be827='',_0x5886a1='',_0x4c2041=_0x6be827+_0x20acdb;for(let _0x1fb289=0x0,_0x4b84af,_0xde4435,_0x1dd16a=0x0;_0xde4435=_0x380378['charAt'](_0x1dd16a++);~_0xde4435&&(_0x4b84af=_0x1fb289%0x4?_0x4b84af*0x40+_0xde4435:_0xde4435,_0x1fb289++%0x4)?_0x6be827+=_0x4c2041['charCodeAt'](_0x1dd16a+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x4b84af>>(-0x2*_0x1fb289&0x6)):_0x1fb289:0x0){_0xde4435=_0x272dc6['indexOf'](_0xde4435);}for(let _0x15d5cf=0x0,_0x22ea8f=_0x6be827['length'];_0x15d5cf<_0x22ea8f;_0x15d5cf++){_0x5886a1+='%'+('00'+_0x6be827['charCodeAt'](_0x15d5cf)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5886a1);};a63_0x20ac['exhqfv']=_0x20acdb,_0x1172be=arguments,a63_0x20ac['sdxLJy']=!![];}const _0x1b293a=_0x559123[0x0],_0x1f5d37=_0x3ccaff+_0x1b293a,_0x5bf7a2=_0x1172be[_0x1f5d37];if(!_0x5bf7a2){const _0x471d87=function(_0x5bf7d0){this['SlZYju']=_0x5bf7d0,this['XvoyIb']=[0x1,0x0,0x0],this['gEOajw']=function(){return'newState';},this['clCJSh']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['eGExfK']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x471d87['prototype']['EbitGc']=function(){const _0xe1d497=new RegExp(this['clCJSh']+this['eGExfK']),_0x4c4e9c=_0xe1d497['test'](this['gEOajw']['toString']())?--this['XvoyIb'][0x1]:--this['XvoyIb'][0x0];return this['EGnOQh'](_0x4c4e9c);},_0x471d87['prototype']['EGnOQh']=function(_0x447e85){if(!Boolean(~_0x447e85))return _0x447e85;return this['BPEByd'](this['SlZYju']);},_0x471d87['prototype']['BPEByd']=function(_0x41f9cf){for(let _0x24a1eb=0x0,_0x133517=this['XvoyIb']['length'];_0x24a1eb<_0x133517;_0x24a1eb++){this['XvoyIb']['push'](Math['round'](Math['random']())),_0x133517=this['XvoyIb']['length'];}return _0x41f9cf(this['XvoyIb'][0x0]);},new _0x471d87(a63_0x20ac)['EbitGc'](),_0x584507=a63_0x20ac['exhqfv'](_0x584507),_0x1172be[_0x1f5d37]=_0x584507;}else _0x584507=_0x5bf7a2;return _0x584507;},a63_0x20ac(_0x1172be,_0x4f7a38);}class EventStateManager{#tableName;#db=initializeDb();[a63_0x25de71(0x15f)]={'enabled':'oui','disabled':'non'};['ACTIONS']={'remove':a63_0x25de71(0x16b),'delete':a63_0x25de71(0x17c),'warn':'warn'};#defaultAction=this[a63_0x25de71(0x149)]['remove'];#defaultState=this[a63_0x25de71(0x15f)][a63_0x25de71(0x154)];#cache;constructor(_0x4a093e,_0x4f88ea=new NodeCache()){this.#tableName=_0x4a093e,this.#cache=_0x4f88ea,this.#createTable();}#createTable(){const _0x502103=a63_0x25de71;this.#db['prepare']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20'+this.#tableName+_0x502103(0x165)+this.#defaultState+_0x502103(0x147)+this.#defaultAction+_0x502103(0x156))[_0x502103(0x14a)]();}#addOrUpdateJid(_0x5f16bb,_0x5ebe06=this.#defaultState){const _0x36690f=a63_0x25de71;this.#db[_0x36690f(0x184)](_0x36690f(0x15d)+this.#tableName+'\x20(jid,\x20etat)\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(jid)\x20DO\x20UPDATE\x20SET\x20etat\x20=\x20excluded.etat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x36690f(0x14a)](_0x5f16bb,_0x5ebe06);const _0x468a53=this.#cache['get'](_0x5f16bb)||{};this.#cache[_0x36690f(0x187)](_0x5f16bb,{..._0x468a53,'etat':_0x5ebe06});}#updateJidAction(_0x1e8149,_0x816e84=this.#defaultAction){const _0x4e589d=a63_0x25de71;try{this.#db[_0x4e589d(0x184)]('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20'+this.#tableName+'\x20(jid,\x20action)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(jid)\x20DO\x20UPDATE\x20SET\x20action\x20=\x20excluded.action;\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4e589d(0x14a)](_0x1e8149,_0x816e84);const _0x298051=this.#cache[_0x4e589d(0x17b)](_0x1e8149)||{};this.#cache['set'](_0x1e8149,{..._0x298051,'action':_0x816e84}),console['log'](_0x4e589d(0x16d)+_0x1e8149+_0x4e589d(0x164)+_0x816e84);}catch(_0x495e3f){console[_0x4e589d(0x176)]('Error\x20updating\x20jid\x20'+_0x1e8149+_0x4e589d(0x162)+_0x816e84+':',_0x495e3f);throw _0x495e3f;}}[a63_0x25de71(0x18d)](_0x44bee3){const _0xa557ea=a63_0x25de71,_0x4740e4={'HSDNM':_0xa557ea(0x152),'wHpyN':function(_0x5aea6a,_0x1ca751){return _0x5aea6a===_0x1ca751;},'UIlGC':_0xa557ea(0x157)};try{if(_0x4740e4['wHpyN'](_0x4740e4['UIlGC'],_0x4740e4['UIlGC'])){const _0x329254=this.#cache['get'](_0x44bee3);if(_0x329254?.[_0xa557ea(0x158)]!==undefined)return _0x329254[_0xa557ea(0x158)]!==this.#defaultState;const _0x11f3a8=this.#db[_0xa557ea(0x184)](_0xa557ea(0x174)+this.#tableName+_0xa557ea(0x168))[_0xa557ea(0x17b)](_0x44bee3);if(_0x11f3a8)return'lfKBz'==='cKcHO'?_0x2491ce[_0xa557ea(0x183)]()[_0xa557ea(0x148)](RqHRwU[_0xa557ea(0x14f)])['toString']()['constructor'](_0x15a0f3)['search']('(((.+)+)+)+$'):(this.#cache[_0xa557ea(0x187)](_0x44bee3,{...this.#cache['get'](_0x44bee3)||{},'etat':_0x11f3a8[_0xa557ea(0x158)]}),_0x11f3a8[_0xa557ea(0x158)]!==this.#defaultState);return![];}else return _0x58d006('L\x27action\x20'+_0x507ee4+'\x20n\x27est\x20pas\x20valide.\x20Les\x20actions\x20valides\x20sont:\x20'+_0x317d25[_0xa557ea(0x160)](this[_0xa557ea(0x149)])['join'](',\x20'));}catch(_0x587238){return console[_0xa557ea(0x176)](_0xa557ea(0x16f)+_0x44bee3+':',_0x587238),![];}}[a63_0x25de71(0x166)](_0x4ffb69){const _0x2f8d12=a63_0x25de71;try{const _0x1db0ec=this.#cache['get'](_0x4ffb69);if(_0x1db0ec?.['action'])return _0x1db0ec[_0x2f8d12(0x14e)];const _0x508195=this.#db['prepare'](_0x2f8d12(0x167)+this.#tableName+'\x20WHERE\x20jid\x20=\x20?;')[_0x2f8d12(0x17b)](_0x4ffb69);if(_0x508195)return this.#cache['set'](_0x4ffb69,{...this.#cache[_0x2f8d12(0x17b)](_0x4ffb69)||{},'action':_0x508195[_0x2f8d12(0x14e)]}),_0x508195[_0x2f8d12(0x14e)];return this.#defaultAction;}catch(_0x3e6e0d){console[_0x2f8d12(0x176)]('Error\x20getting\x20action\x20for\x20jid\x20'+_0x4ffb69+':',_0x3e6e0d);throw _0x3e6e0d;}}[a63_0x25de71(0x186)](_0x52a437){const _0x212d9a=a63_0x25de71,_0x111ebf={'LsKwK':'Cette\x20commande\x20est\x20reserver\x20uniquement\x20pour\x20les\x20groupes','QSEeM':_0x212d9a(0x145),'CoCRs':function(_0xbbc820,_0x4d6e00){return _0xbbc820==_0x4d6e00;},'sSgjm':function(_0x581d29,_0xb97845){return _0x581d29(_0xb97845);},'bzZjT':function(_0x400201,_0x1ef75e){return _0x400201==_0x1ef75e;},'HTKrz':_0x212d9a(0x17e),'abDMD':function(_0x3f3198,_0x54f6d1){return _0x3f3198(_0x54f6d1);}},{nomCom:_0x5576fb,categorie:_0x4a483c,desc:_0x303344,alias:_0x970f86,reaction:_0x3e6865}=_0x52a437;zokou({'nomCom':_0x5576fb,'categorie':_0x4a483c,'reaction':_0x3e6865,'desc':_0x303344,'alias':_0x970f86},async(_0x486b20,_0x4ee6b5,_0xce9f5d)=>{const _0x4fd0ef=_0x212d9a,{verifGroupe:_0x3b6111,verifAdmin:_0x5cc9bb,ms:_0x549e09,arg:_0x22db7c,superUser:_0x17565d,repondre:_0x30b49c}=_0xce9f5d;if(!_0x3b6111)return _0x30b49c(_0x111ebf[_0x4fd0ef(0x18b)]);if(!_0x17565d&&!_0x5cc9bb)return _0x30b49c(_0x111ebf[_0x4fd0ef(0x188)]);try{const _0x11e665='\x0a'+_0x5576fb+'\x20'+this[_0x4fd0ef(0x15f)][_0x4fd0ef(0x14b)]+'\x20:\x20pour\x20l\x27activer\x0a'+_0x5576fb+'\x20'+this['STATES'][_0x4fd0ef(0x154)]+_0x4fd0ef(0x159)+_0x5576fb+_0x4fd0ef(0x175)+this['ACTIONS']['remove']+_0x4fd0ef(0x15a)+this['ACTIONS'][_0x4fd0ef(0x172)]+'\x0a'+_0x5576fb+_0x4fd0ef(0x175)+this['ACTIONS'][_0x4fd0ef(0x180)]+_0x4fd0ef(0x15a)+this[_0x4fd0ef(0x149)][_0x4fd0ef(0x172)]+'\x0a'+_0x5576fb+_0x4fd0ef(0x175)+this[_0x4fd0ef(0x149)][_0x4fd0ef(0x15e)]+_0x4fd0ef(0x15a)+this['ACTIONS'][_0x4fd0ef(0x172)]+'\x0a'+_0x5576fb+'\x20'+this[_0x4fd0ef(0x149)][_0x4fd0ef(0x172)]+'\x20'+this['STATES'][_0x4fd0ef(0x14b)]+'\x20:\x20pour\x20activer\x20et\x20changer\x20l\x27action\x20en\x20retirer';if(!_0x22db7c||!_0x22db7c[0x0]||_0x111ebf['CoCRs'](_0x22db7c[_0x4fd0ef(0x155)]('')[_0x4fd0ef(0x178)](),''))return _0x30b49c(_0x11e665);const _0x334d51=_0x22db7c[0x0][_0x4fd0ef(0x189)]();if(_0x111ebf[_0x4fd0ef(0x171)](_0x334d51,this[_0x4fd0ef(0x15f)][_0x4fd0ef(0x14b)])){if(this[_0x4fd0ef(0x18d)](_0x486b20))return _0x111ebf[_0x4fd0ef(0x17d)](_0x30b49c,_0x5576fb+_0x4fd0ef(0x150));return this.#addOrUpdateJid(_0x486b20,_0x334d51),_0x111ebf['sSgjm'](_0x30b49c,_0x5576fb+'\x20est\x20maintenant\x20actif');}else{if(_0x111ebf['bzZjT'](_0x334d51,this[_0x4fd0ef(0x15f)][_0x4fd0ef(0x154)])){if(!this[_0x4fd0ef(0x18d)](_0x486b20))return _0x30b49c(_0x5576fb+'\x20est\x20deja\x20desactive');return this.#addOrUpdateJid(_0x486b20,_0x334d51),_0x111ebf[_0x4fd0ef(0x17d)](_0x30b49c,_0x5576fb+_0x4fd0ef(0x18c));}else{if(_0x334d51[_0x4fd0ef(0x181)](_0x111ebf[_0x4fd0ef(0x185)])){const _0x4a7a13=_0x334d51[_0x4fd0ef(0x15c)]('/')[0x1]['trim']()[_0x4fd0ef(0x189)]();if(!Object[_0x4fd0ef(0x160)](this[_0x4fd0ef(0x149)])['includes'](_0x4a7a13))return _0x30b49c('L\x27action\x20'+_0x4a7a13+'\x20n\x27est\x20pas\x20valide.\x20Les\x20actions\x20valides\x20sont:\x20'+Object['values'](this[_0x4fd0ef(0x149)])[_0x4fd0ef(0x155)](',\x20'));return this.#updateJidAction(_0x486b20,_0x4a7a13),_0x30b49c('L\x27action\x20de\x20'+_0x5576fb+'\x20est\x20maintenant\x20'+_0x4a7a13);}else return _0x4fd0ef(0x146)!=='HyJDz'?(_0x3be3a7[_0x4fd0ef(0x176)](_0x4fd0ef(0x16f)+_0x2f3d40+':',_0x4087cd),![]):_0x111ebf[_0x4fd0ef(0x169)](_0x30b49c,_0x11e665);}}}catch(_0x22148f){return console['log'](_0x4fd0ef(0x14c)+_0x5576fb+_0x4fd0ef(0x17a)+_0x486b20+':\x20'+_0x22148f),_0x111ebf[_0x4fd0ef(0x169)](_0x30b49c,_0x4fd0ef(0x15b));}});}}module['exports']=EventStateManager;