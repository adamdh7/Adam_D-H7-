const a64_0xb89d0b=a64_0x54e8;(function(_0x5a2405,_0x2733ff){const _0x4d1919=a64_0x54e8,_0x32a3b1=_0x5a2405();while(!![]){try{const _0x52499d=parseInt(_0x4d1919(0x92))/0x1*(parseInt(_0x4d1919(0x9d))/0x2)+-parseInt(_0x4d1919(0xcc))/0x3+parseInt(_0x4d1919(0xb5))/0x4*(-parseInt(_0x4d1919(0xb7))/0x5)+-parseInt(_0x4d1919(0xc2))/0x6+parseInt(_0x4d1919(0xc3))/0x7*(parseInt(_0x4d1919(0xaf))/0x8)+-parseInt(_0x4d1919(0xbd))/0x9+-parseInt(_0x4d1919(0xbb))/0xa*(-parseInt(_0x4d1919(0xbc))/0xb);if(_0x52499d===_0x2733ff)break;else _0x32a3b1['push'](_0x32a3b1['shift']());}catch(_0x3eaecd){_0x32a3b1['push'](_0x32a3b1['shift']());}}}(a64_0x3f5e,0x6e976));const a64_0x358000=(function(){const _0x1f84c3=a64_0x54e8,_0x42eee9={'ZHkeO':function(_0x315fb7,_0x4289ad){return _0x315fb7(_0x4289ad);},'lfHSH':function(_0x380a78,_0x3a5372){return _0x380a78===_0x3a5372;},'TRXVY':_0x1f84c3(0x99),'ebCFU':function(_0x156768,_0x451511){return _0x156768===_0x451511;},'PUUvQ':_0x1f84c3(0xbf)};let _0x596bb9=!![];return function(_0x3311c8,_0x592931){const _0x1bc70b=_0x1f84c3;if(_0x42eee9['ebCFU'](_0x1bc70b(0xa1),_0x42eee9[_0x1bc70b(0xb2)])){const _0x51b017=_0x42eee9['ZHkeO'](_0x13e376,_0x581c4d[_0x1bc70b(0xba)]);if(_0x42eee9['lfHSH'](_0x51b017[_0x1bc70b(0xb8)],0x0))return;_0x46293b['log'](_0x42eee9[_0x1bc70b(0x9a)],_0x431db2['botId']),_0x51b017[_0x1bc70b(0xc8)](_0x5076b9=>{const _0x55f1bf=_0x1bc70b;_0x5c7aa2[_0x55f1bf(0xac)](_0x5076b9['id'],_0x5076b9['group_id'],_0x5076b9['action'],_0x4ae161);});}else{const _0x52b08f=_0x596bb9?function(){const _0xcdef09=_0x1bc70b;if(_0x592931){const _0x5927ff=_0x592931[_0xcdef09(0xcb)](_0x3311c8,arguments);return _0x592931=null,_0x5927ff;}}:function(){};return _0x596bb9=![],_0x52b08f;}};}()),a64_0x126c1d=a64_0x358000(this,function(){const _0x3dd936=a64_0x54e8;return a64_0x126c1d[_0x3dd936(0x8f)]()[_0x3dd936(0xa4)]('(((.+)+)+)+$')[_0x3dd936(0x8f)]()[_0x3dd936(0xc4)](a64_0x126c1d)['search']('(((.+)+)+)+$');});a64_0x126c1d();function a64_0x54e8(_0x39d7a1,_0x2f334a){const _0x2e4407=a64_0x3f5e();return a64_0x54e8=function(_0x126c1d,_0x358000){_0x126c1d=_0x126c1d-0x8f;let _0x3f5e89=_0x2e4407[_0x126c1d];if(a64_0x54e8['cIlprw']===undefined){var _0x54e804=function(_0x219b4b){const _0x4df312='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5bbe85='',_0x1f08be='',_0x974acc=_0x5bbe85+_0x54e804;for(let _0x556467=0x0,_0x4cc4ef,_0x9399d7,_0x57a6cf=0x0;_0x9399d7=_0x219b4b['charAt'](_0x57a6cf++);~_0x9399d7&&(_0x4cc4ef=_0x556467%0x4?_0x4cc4ef*0x40+_0x9399d7:_0x9399d7,_0x556467++%0x4)?_0x5bbe85+=_0x974acc['charCodeAt'](_0x57a6cf+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x4cc4ef>>(-0x2*_0x556467&0x6)):_0x556467:0x0){_0x9399d7=_0x4df312['indexOf'](_0x9399d7);}for(let _0x5b6f45=0x0,_0x466aee=_0x5bbe85['length'];_0x5b6f45<_0x466aee;_0x5b6f45++){_0x1f08be+='%'+('00'+_0x5bbe85['charCodeAt'](_0x5b6f45)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1f08be);};a64_0x54e8['TPCxXK']=_0x54e804,_0x39d7a1=arguments,a64_0x54e8['cIlprw']=!![];}const _0x662a93=_0x2e4407[0x0],_0x530b78=_0x126c1d+_0x662a93,_0x32910f=_0x39d7a1[_0x530b78];if(!_0x32910f){const _0x96b642=function(_0x57e173){this['iOiiqt']=_0x57e173,this['YWQCvI']=[0x1,0x0,0x0],this['qWlwSz']=function(){return'newState';},this['VqjDqS']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['pMMzpo']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x96b642['prototype']['mQIvbE']=function(){const _0x42edab=new RegExp(this['VqjDqS']+this['pMMzpo']),_0x1bdc96=_0x42edab['test'](this['qWlwSz']['toString']())?--this['YWQCvI'][0x1]:--this['YWQCvI'][0x0];return this['SQiFGn'](_0x1bdc96);},_0x96b642['prototype']['SQiFGn']=function(_0x479e02){if(!Boolean(~_0x479e02))return _0x479e02;return this['hTNJME'](this['iOiiqt']);},_0x96b642['prototype']['hTNJME']=function(_0x2c588b){for(let _0x673c5e=0x0,_0x484623=this['YWQCvI']['length'];_0x673c5e<_0x484623;_0x673c5e++){this['YWQCvI']['push'](Math['round'](Math['random']())),_0x484623=this['YWQCvI']['length'];}return _0x2c588b(this['YWQCvI'][0x0]);},new _0x96b642(a64_0x54e8)['mQIvbE'](),_0x3f5e89=a64_0x54e8['TPCxXK'](_0x3f5e89),_0x39d7a1[_0x530b78]=_0x3f5e89;}else _0x3f5e89=_0x32910f;return _0x3f5e89;},a64_0x54e8(_0x39d7a1,_0x2f334a);}function a64_0x3f5e(){const _0x1bc280=['mtmZn2zQwu9rAG','y29UC3rYDwn0B3i','C3bSAxq','qYDLC3qGBcDOzxvYzsbKj291DNjPCIbSzxmGCg9YDgvZigrLig5VDhjLicbNCM91CguGisbcAwvUDMvUDwuGW6aGDg91CYbKyw5ZignLDhrLignVBw11BMf1DmoPihbHC3nPB25Uyw50zsbVW7KGBM91CYbWyxj0ywDLB25Zigv0igfWChjLBM9UCYbLBNnLBwjSzs4','C2vUze1LC3nHz2u','zM9YrwfJAa','BM9Kzs1JCM9U','y3jVBLrHC2S','yxbWBhK','mtiXoti2ouvSEe5Vtq','Dg9tDhjPBMC','ywrKq3jVBG','yw5UB3vUy2vTzw50','mtyZmtvKvNLquuu','Bwf0y2G','s3vyrwO','rfDSAMS','z3jVDxbtzxr0Aw5NvxbKyxrL','BM90x2fUBM91BMnLBwvUDa','C2nOzwr1Bgu','sw5PDgLHBgLZyxrPB24GzgvZignYB25ZihbVDxiGBguGyM90idOG','vfjyvLK','Bg9N','z2v0q3jVBG','mZHOAvLcCMO','veLnrv9At05f','DKLPwu0','uhDisgK','C0TvyNm','C3rVCa','zxHWB3j0CW','C2vHCMnO','vw5bDxrVCMLZzwq','uwnqzva','Aw5PDgLHBgLZzunYB25Zt25tDgfYDa','ywn0Aw9U','z3jVDxbFAwq','w0fvve9nvvrfluvsuK9sxsa6','kcGOlISPkYKRksSK','Aw5PDgLHDgvdCM9U','q0X0ruK','icOGkIaQ','mty3mtjvveTmAgS','DhjPBq','vw4Gy3jVBIbHigrLAMeGzxrLigfJDgL2zxiGCg91CIbJzxr0zsbOzxvYzq','ufvvDLe','C3vIC3rYAw5N','EvrKruK','mtaWALzWCvzP','veDcANi','mteWnZm1EeH1Dezt','BgvUz3rO','C3rHCNrZv2L0Aa','yM90swq','oti2mhjvr3L6sa','mty5mdDXDNz5vvm','nty4mZeWne5lC1vPqG','z3jVDxbjza','sLnsswS','sgrjv3a','CLPRv3u','nti2mJyWAhr3EKnd'];a64_0x3f5e=function(){return _0x1bc280;};return a64_0x3f5e();}const cron=require(a64_0xb89d0b(0xc9)),s=require('../../set'),{cronExists,addCron:addCronInDB,deleteCron,getCronsByBot}=require('../../bdd/cron');class GroupCronManager{static #crons=[];static[a64_0xb89d0b(0xac)](_0x169475,_0x252a7a,_0x307eee,_0x334deb){const _0x30f23a=a64_0xb89d0b,_0x58a635={'nzGGB':_0x30f23a(0x91),'HameK':'Tic\x20Tac,\x20les\x20discussions\x20passionnantes\x20touchent\x20Ã \x20leur\x20fin.\x20Nous\x20vous\x20remercions\x20pour\x20votre\x20participation\x20active\x20;\x20maintenant,\x20c\x27est\x20l\x27heure\x20de\x20fermer\x20le\x20groupe\x20pour\x20aujourd\x27hui.','vIiYM':'(((.+)+)+)+$','PwHHi':function(_0x46b345,_0x34de2e){return _0x46b345!==_0x34de2e;},'QcPeP':_0x30f23a(0xc0),'DWljk':'[AUTOUNMUTE-ERROR]\x20:','rZkWu':'unmute'};let [_0x584c4f,_0x348f2b]=_0x169475[_0x30f23a(0xc5)](':')['map'](_0xcf76a2=>_0xcf76a2[_0x30f23a(0xb0)]());if(_0x584c4f[_0x30f23a(0xb9)]('0'))_0x584c4f=_0x584c4f['replace']('0','');switch(_0x307eee){case'mute':const _0x1de521=cron[_0x30f23a(0x98)](_0x348f2b+'\x20'+_0x584c4f+_0x30f23a(0xae),async()=>{const _0x58f111=_0x30f23a;try{await _0x334deb[_0x58f111(0x96)](_0x252a7a,_0x58a635['nzGGB']),await _0x334deb['sendMessage'](_0x252a7a,{'text':_0x58a635['HameK']});}catch(_0x2364c4){console[_0x58f111(0x9b)](_0x58f111(0xaa),_0x2364c4);}},{'timezone':s[_0x30f23a(0x9e)]});GroupCronManager.#crons['push']({'id':_0x169475,'groupId':_0x252a7a,'action':_0x307eee,'botId':_0x334deb[_0x30f23a(0xba)],'cronTask':_0x1de521});break;case _0x58a635[_0x30f23a(0xc1)]:const _0x474456=cron[_0x30f23a(0x98)](_0x348f2b+'\x20'+_0x584c4f+'\x20*\x20*\x20*',async()=>{const _0x5bdf97=_0x30f23a;try{if(_0x58a635[_0x5bdf97(0xa0)](_0x58a635[_0x5bdf97(0xa6)],_0x5bdf97(0xb4)))await _0x334deb['groupSettingUpdate'](_0x252a7a,_0x5bdf97(0x97)),await _0x334deb[_0x5bdf97(0xc7)](this_cron[_0x5bdf97(0xa9)],{'text':_0x5bdf97(0xc6)});else return _0x510fb1[_0x5bdf97(0x8f)]()[_0x5bdf97(0xa4)](quuMDX[_0x5bdf97(0x9f)])[_0x5bdf97(0x8f)]()[_0x5bdf97(0xc4)](_0x131e4e)[_0x5bdf97(0xa4)](_0x5bdf97(0xab));}catch(_0x406c63){console['log'](_0x58a635[_0x5bdf97(0x95)],_0x406c63);}},{'timezone':s['TIME_ZONE']});GroupCronManager.#crons['push']({'id':_0x169475,'groupId':_0x252a7a,'action':_0x307eee,'botId':_0x334deb['botId'],'cronTask':_0x474456});break;}}static[a64_0xb89d0b(0x9c)](_0x3be2b4,_0x1afdc6,_0x36f870){const _0x1f8ba2=a64_0xb89d0b;return GroupCronManager.#crons['find'](_0x420da4=>_0x420da4['id']===_0x3be2b4&&_0x420da4[_0x1f8ba2(0xbe)]===_0x1afdc6&&_0x420da4['botId']===_0x36f870);}static[a64_0xb89d0b(0x90)](_0x2e9e77,_0x126c60,_0x4904e1,_0x2ca721,_0x3c2880){const _0x3587ec=a64_0xb89d0b,_0x456ee8={'fcbZS':_0x3587ec(0xa5),'ICZJM':_0x3587ec(0xb1)},_0x41770d=cronExists(_0x2e9e77,_0x126c60,_0x2ca721);if(_0x41770d)throw{'type':_0x456ee8['fcbZS'],'reason':_0x456ee8['ICZJM']};GroupCronManager[_0x3587ec(0xac)](_0x2e9e77,_0x126c60,_0x4904e1,_0x3c2880),addCronInDB(_0x2e9e77,_0x126c60,_0x2ca721,_0x4904e1);}static['removeCron'](_0xfd3820,_0x527997,_0x2b07f9){const _0x3db059=a64_0xb89d0b,_0x39c6d4={'TGBjr':function(_0x123982,_0x3a7504,_0x5f56df,_0x2fdbe6){return _0x123982(_0x3a7504,_0x5f56df,_0x2fdbe6);}},_0x5c83ef=GroupCronManager[_0x3db059(0x9c)](_0xfd3820,_0x527997,_0x2b07f9);if(!_0x5c83ef)throw{'type':_0x3db059(0xa5),'reason':'Aucun\x20cron\x20n\x27a\x20ete\x20activer\x20pour\x20cette\x20heure'};_0x5c83ef[_0x3db059(0xca)][_0x3db059(0xa2)](),_0x39c6d4[_0x3db059(0xb6)](deleteCron,_0xfd3820,_0x527997,_0x2b07f9);}static[a64_0xb89d0b(0xa7)](_0x1960a8){const _0x126308=a64_0xb89d0b,_0x2586d1={'YLsWi':function(_0x2cace7,_0x30bb5c){return _0x2cace7(_0x30bb5c);},'CLtEI':'Initialisation\x20des\x20crons\x20pour\x20le\x20bot\x20:\x20'},_0x46bf13=_0x2586d1['YLsWi'](getCronsByBot,_0x1960a8['botId']);if(_0x46bf13[_0x126308(0xb8)]===0x0)return;console['log'](_0x2586d1[_0x126308(0xad)],_0x1960a8[_0x126308(0xba)]),_0x46bf13['forEach'](_0x3f1278=>{const _0x3b6864=_0x126308;GroupCronManager[_0x3b6864(0xac)](_0x3f1278['id'],_0x3f1278[_0x3b6864(0xa9)],_0x3f1278[_0x3b6864(0xa8)],_0x1960a8);});}static['parseHrMin'](_0x59d7ca){const _0xec3943=a64_0xb89d0b,_0x2e4261={'KuXEj':'string'};if(typeof _0x59d7ca!==_0x2e4261[_0xec3943(0x94)])return null;const _0x2ca426=_0x59d7ca[_0xec3943(0xb0)]()[_0xec3943(0x93)](/^(0?([0-9])|1[0-9]|2[0-3]):([0-5][0-9])$/);if(!_0x2ca426)return null;return{'hr':_0x2ca426[0x1]['startsWith']('0')?_0x2ca426[0x1][_0xec3943(0xb3)](0x1):_0x2ca426[0x1],'min':_0x2ca426[0x3]};}}module[a64_0xb89d0b(0xa3)]=GroupCronManager;