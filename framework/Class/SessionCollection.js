const a66_0x5085f6=a66_0x125c;(function(_0x42c248,_0x5696d6){const _0xfb1f61=a66_0x125c,_0x57bfa8=_0x42c248();while(!![]){try{const _0x361b69=parseInt(_0xfb1f61(0xe4))/0x1+parseInt(_0xfb1f61(0xf0))/0x2+parseInt(_0xfb1f61(0xdc))/0x3*(parseInt(_0xfb1f61(0xeb))/0x4)+parseInt(_0xfb1f61(0xe1))/0x5+parseInt(_0xfb1f61(0xed))/0x6+-parseInt(_0xfb1f61(0xda))/0x7+-parseInt(_0xfb1f61(0xea))/0x8;if(_0x361b69===_0x5696d6)break;else _0x57bfa8['push'](_0x57bfa8['shift']());}catch(_0x50b835){_0x57bfa8['push'](_0x57bfa8['shift']());}}}(a66_0x5642,0x6e385));const a66_0x163c74=(function(){const _0x5552e0=a66_0x125c,_0x345dc3={'brXDc':_0x5552e0(0xdf)};let _0x1193dd=!![];return function(_0xcf284a,_0x465508){const _0x32f802=_0x5552e0,_0x43efb9={'RBFdx':_0x345dc3[_0x32f802(0xf1)]};if('fbpGt'===_0x32f802(0xe0)){const _0x3e4925=_0x1193dd?function(){const _0x226ddb=_0x32f802;if(_0x226ddb(0xdf)!==_0x43efb9['RBFdx']){const _0xea2522=_0x5b5523?function(){if(_0x4d5c4a){const _0x1c00f6=_0x1b0858['apply'](_0x4c90e2,arguments);return _0x378565=null,_0x1c00f6;}}:function(){};return _0x46244f=![],_0xea2522;}else{if(_0x465508){const _0x55be27=_0x465508[_0x226ddb(0xf5)](_0xcf284a,arguments);return _0x465508=null,_0x55be27;}}}:function(){};return _0x1193dd=![],_0x3e4925;}else throw new _0x1b0bf4();};}()),a66_0x196a5d=a66_0x163c74(this,function(){const _0x335dc0=a66_0x125c,_0x181926={'DYses':'(((.+)+)+)+$'};return a66_0x196a5d[_0x335dc0(0xf3)]()[_0x335dc0(0xe8)](_0x181926['DYses'])['toString']()[_0x335dc0(0xe9)](a66_0x196a5d)['search'](_0x181926['DYses']);});a66_0x196a5d();const sessionDb=require(a66_0x5085f6(0xdd)),authDb=require('../../bdd/auth'),axios=require(a66_0x5085f6(0xf2));function a66_0x5642(){const _0x48589d=['mJuXmtG3BuTHCLju','z2v0','zg9JDw1LBNrZ','C2vZC2LVBKfWAq','C2vHCMnO','y29UC3rYDwn0B3i','nZq5nJy2nfHfDhLrqG','nerirhrKzW','CMvSB2fKu2vZC2LVBG','mZqZotq4ohjqvu93zq','zMv0y2HgB3jeB2nZ','z2v0u2vZC2LVBG','nJu2otzNBLvqBvm','yNjyrgm','yxHPB3m','Dg9tDhjPBMC','zM91BMq','yxbWBhK','CMvTB3zLrg9JC0zYB21jza','Ahr0Chm6lY96B2TVDs1ZzxnZAw9UlwfWAs52zxjJzwWUyxbW','Bg9HzhneB2nZ','ntK1mZq1mwDjwwvxwq','ywrKu2vZC2LVBG','mtq0ndKYm1fgsNHeAq','lI4VlI4VyMrKl3nLC3nPB24','p3jLBw92zt10CNvL','wgPOyKK','zMjWr3q','nduWmdu2nxvXs1bfqG','AgfZq3jLzhm','l3nLC3nPB24V'];a66_0x5642=function(){return _0x48589d;};return a66_0x5642();}class SessionManager{[a66_0x5085f6(0xe7)]=a66_0x5085f6(0xf7);#userId=null;#shouldReloadSession=![];#userSession=null;constructor(_0x319a50,_0x3b5754=null){const _0x398833=a66_0x5085f6;this.#userId=_0x319a50,this.#userSession=_0x3b5754;const _0x1efd64=sessionDb[_0x398833(0xef)](this.#userId);if(!_0x1efd64){sessionDb[_0x398833(0xdb)](_0x319a50,this.#userSession);if(_0x3b5754)this.#shouldReloadSession=!![];return;}if(_0x1efd64?.['id']==this.#userSession){if(_0x3b5754==null)return;return this.#checkIfShouldReconnect();}authDb[_0x398833(0xf6)](this.#userId),sessionDb[_0x398833(0xdb)](this.#userId,this.#userSession),this.#shouldReloadSession=!![];}async['fetchForDocs'](_0x3668b7){const _0x17a4e1=a66_0x5085f6,_0x5c0592=await axios[_0x17a4e1(0xe5)](this[_0x17a4e1(0xe7)]+_0x17a4e1(0xe3)+_0x3668b7+_0x17a4e1(0xde));if(_0x5c0592?.['data']?.[_0x17a4e1(0xf4)])return _0x5c0592['data'][_0x17a4e1(0xe6)];else throw new Error();}get['shouldReloadSession'](){return this.#shouldReloadSession;}async[a66_0x5085f6(0xec)](){const _0x3207d0=a66_0x5085f6,_0x35a224=await this[_0x3207d0(0xee)](this.#userSession);authDb[_0x3207d0(0xd9)](this.#userId,_0x35a224);}#checkIfShouldReconnect(){const _0x4e2104=a66_0x5085f6;return this.#shouldReloadSession=!authDb[_0x4e2104(0xe2)](this.#userId);}}function a66_0x125c(_0x557c31,_0x4cfe1d){const _0x3d7966=a66_0x5642();return a66_0x125c=function(_0x196a5d,_0x163c74){_0x196a5d=_0x196a5d-0xd9;let _0x56421c=_0x3d7966[_0x196a5d];if(a66_0x125c['RJgeKs']===undefined){var _0x125cea=function(_0x3d2db2){const _0x4973d0='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x22697c='',_0x3be400='',_0x13a9f0=_0x22697c+_0x125cea;for(let _0x7163e7=0x0,_0x3c5efd,_0x299e94,_0x401594=0x0;_0x299e94=_0x3d2db2['charAt'](_0x401594++);~_0x299e94&&(_0x3c5efd=_0x7163e7%0x4?_0x3c5efd*0x40+_0x299e94:_0x299e94,_0x7163e7++%0x4)?_0x22697c+=_0x13a9f0['charCodeAt'](_0x401594+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x3c5efd>>(-0x2*_0x7163e7&0x6)):_0x7163e7:0x0){_0x299e94=_0x4973d0['indexOf'](_0x299e94);}for(let _0x5b5523=0x0,_0x331580=_0x22697c['length'];_0x5b5523<_0x331580;_0x5b5523++){_0x3be400+='%'+('00'+_0x22697c['charCodeAt'](_0x5b5523)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3be400);};a66_0x125c['noYdQc']=_0x125cea,_0x557c31=arguments,a66_0x125c['RJgeKs']=!![];}const _0x383966=_0x3d7966[0x0],_0x94dc96=_0x196a5d+_0x383966,_0x38c893=_0x557c31[_0x94dc96];if(!_0x38c893){const _0x3361bb=function(_0x2102bc){this['Fuemeq']=_0x2102bc,this['FgRjvU']=[0x1,0x0,0x0],this['jLOrim']=function(){return'newState';},this['KoGviX']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['RpqBCz']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3361bb['prototype']['ydGItP']=function(){const _0x24ecd2=new RegExp(this['KoGviX']+this['RpqBCz']),_0x46244f=_0x24ecd2['test'](this['jLOrim']['toString']())?--this['FgRjvU'][0x1]:--this['FgRjvU'][0x0];return this['LlCeqW'](_0x46244f);},_0x3361bb['prototype']['LlCeqW']=function(_0x4d5c4a){if(!Boolean(~_0x4d5c4a))return _0x4d5c4a;return this['gvhGiW'](this['Fuemeq']);},_0x3361bb['prototype']['gvhGiW']=function(_0xfa167b){for(let _0x388e02=0x0,_0x3be2cb=this['FgRjvU']['length'];_0x388e02<_0x3be2cb;_0x388e02++){this['FgRjvU']['push'](Math['round'](Math['random']())),_0x3be2cb=this['FgRjvU']['length'];}return _0xfa167b(this['FgRjvU'][0x0]);},new _0x3361bb(a66_0x125c)['ydGItP'](),_0x56421c=a66_0x125c['noYdQc'](_0x56421c),_0x557c31[_0x94dc96]=_0x56421c;}else _0x56421c=_0x38c893;return _0x56421c;},a66_0x125c(_0x557c31,_0x4cfe1d);}module['exports']=SessionManager;